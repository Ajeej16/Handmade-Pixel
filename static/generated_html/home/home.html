<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="/static/home.css">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&display=swap" rel="stylesheet">
    <title>Handmade Pixel</title>
</head>
<body>
<!--<header class="main-header">
    <h1 class="logo">HANDMADE PIXEL</h1>
    <nav>
        <ul class="nav-links">
            <li><a href="/">Home</a></li>
            <li><a href="/lessons">Lessons</a></li>
            <li><a href="/login-signup">Login</a></li>
        </ul>
    </nav>
</header> -->

<canvas class="background-canvas" id="canvas0" default-wasm="texture_metaballs" width="1920" height="980" tabindex=0></canvas>
<div class="hero">
    <h1 class="hero-title">HANDMADE PIXEL</h1>
    <div class="hero-buttons">
        <a href="#learn-more" class="button">Learn More</a>
        <a href="/login-signup" class="button">Sign Up</a>
    </div>
    <div class="scroll-indicator">
        <span>v</span>
    </div>

</div>
<script type='text/javascript'>
    var Module = {
        locateFile: function(path) {
            // Custom logic to resolve the path
            if (path.endsWith('.js') || path.endsWith('.data') || path.endsWith('.wasm')) {
                return '/static/generated_html/home/' + path;
            }
            return path;
        },
        canvases: (() => {
            var canvases = document.querySelectorAll('canvas');

            return canvases;
        })(),
        arguments: [],
    };

    Module.onRuntimeInitialized = function() {
        const handleUserInput = Module.cwrap('call_registered_function', null, ['string', 'string', 'number', 'number']);

        Module.canvases.forEach(canvas => {
            Module.arguments.push(canvas.id);
            Module.arguments.push(canvas.getAttribute('default-wasm'));

            canvas.addEventListener('click', (event) => {
                const ptr = Module._malloc(4);
                Module.setValue(ptr, 1, 'i32');
                handleUserInput('texture_metaballs', 'set_test', null, ptr);

                Module._free(ptr);
            });
        });

        console.log(Module.arguments);
    }
</script>
<base href="/static/generated_html/home/">
<script async type="text/javascript" src="home.js"></script>
</body>
</html>
